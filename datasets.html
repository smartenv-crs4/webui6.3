<!DOCTYPE html>
<!--[if IE 8]>
<html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en"> <!--<![endif]-->
<head>
    <title>Open Data CP2020 | Datasets</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Favicon -->
    <link rel="shortcut icon" href="lib/img/favicon.ico">

    <!-- Web Fonts -->
    <link rel='stylesheet' type='text/css'
          href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600&amp;subset=cyrillic,latin'>

    <!-- CSS reset -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css">

    <!-- CSS Global Compulsory -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- CSS Header and Footer -->
    <link rel="stylesheet" href="assets/css/headers/header-default.css">
    <link rel="stylesheet" href="assets/css/footers/footer-v1.css">

    <!-- CSS Implementing Plugins -->
    <link rel="stylesheet" href="assets/plugins/animate.css">
    <link rel="stylesheet" href="assets/plugins/line-icons/line-icons.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/plugins/owl-carousel/owl-carousel/owl.carousel.css">
    <link rel="stylesheet" href="assets/plugins/sky-forms-pro/skyforms/css/sky-forms.css">
    <link rel="stylesheet" href="assets/plugins/sky-forms-pro/skyforms/custom/custom-sky-forms.css">
    <!--[if lt IE 9]>
    <link rel="stylesheet" href="assets/plugins/sky-forms-pro/skyforms/css/sky-forms-ie8.css"><![endif]-->

    <!-- CSS Page Style -->
    <link rel="stylesheet" href="assets/css/pages/page_search.css">

    <!-- CSS Theme -->
    <link rel="stylesheet" href="assets/css/theme-colors/dark-red_.css" id="style_color">
    <link rel="stylesheet" href="assets/css/theme-skins/dark.css">

    <!-- CSS Customization -->
    <link rel="stylesheet" href="lib/css/custom.css">

    <!-- CSS Page Style Import-->
    <link rel="stylesheet" href="assets/css/pages/page_log_reg_v3.css">
</head>

<body>
<div class="wrapper">
    <!--=== Header ===-->
    <div id="header_p"></div>
    <!--=== End Header ===-->

    <!--=== Search Block ===-->
    <div class="search-block parallaxBg one-top-padding autoHeight no-padding-bottom">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3">
                    <!--h1>OPEN DATA <span class="color-red">Cagliari Port</span>2020</h1-->

                    <div class="input-group">
                        <input type="text" class="form-control" id="searchInput" data-i18n="[placeholder]datasets.searchDatasets">
						<span class="input-group-btn">
							<button class="btn-u btn-u-lg" id="searchButton" type="button"><i class="fa fa-search"></i></button>
						</span>
                    </div>
                </div>
            </div>
            <div class="row well bg-color-semitransparent">


                <div class="col-md-2 bg-color-semitransparent">
                    <div class="margin-top-20">
                        <!--  <h2>Tags</h2>-->
                        <div class="headline-v2"><h2>Tags</h2></div>

                    </div>

                    <div id="tags_container"></div>

                </div>
                <div class="col-md-10 well">
                    <div class="row">
                        <div class="col-md-9">
                            <h2 class="color-red text-left"> <a href="index.html"><<</span></a> Datasets </h2>
                        </div>
                        <div class="col-md-3" hidden="hidden">
                            <!--<button class="btn-u pull-right">+ Add new Dataset</button>-->
                            <a href="add_dataset.html" class="btn-u pull-right">+ Add new Dataset</a>
                        </div>
                    </div>

                    <div class="table-search-v2">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped">
                                <thead>
                                </thead>

                                <tbody class="text-left" id="datasetrows">

                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="margin-bottom-30"></div>

                    <div class="text-left" id="pagination_container">

                    </div>
                </div>

            </div>


        </div>
    </div><!--/container-->

    <!--=== Footer Version 1 ===-->
    <div id="footer_p" ></div>
    <!--=== End Footer Version 1 ===-->
</div><!--/End Wrapper-->


<script type="text/x-handlebars-template" id="datasetrows_template">
    <tr>
        <th class="   hidden-sm">Datasets</th>
        <th>Status</th>
    </tr>

    {{#each result}}

    <tr>

        <td>
            <h3><a href="dataset_detail.html?id={{id}}">{{title}}</a></h3>
            <p>{{notes}}</p>
            <ul class="list-inline tags-v1  color-white">
                {{#each tags}}
                <li><a href="datasets.html?q={{display_name}}">{{display_name}}</a></li>
                {{/each}}
            </ul>
        </td>
        <td>
            <span class="label label-aqua">{{state}}</span>
        </td>

    </tr>
    {{/each}}
</script>

<script type="text/x-handlebars-template" id="pagination_template">

    <ul class="pagination">
        {{#paginate pagination type="previous"}}
        {{#if disabled}}{{else}}
        <li><a href="#"
               onclick="javascript:getDatasets(url,'datasetrows','datasetrows_template', {{n}});">
            &lt;</a></li>
        {{/if}}
        {{/paginate}}
        {{#paginate pagination type="middle" limit="7"}}
        <li class="{{#if active}}active{{/if}} hidden-xs">
            <a href="#"
               onclick="javascript:getDatasets(url,'datasetrows','datasetrows_template', {{n}});">{{n}}</a>
        </li>
        {{/paginate}}
        {{#paginate pagination type="next"}}
        {{#if disabled}}{{else}}
        <li><a href="#"
               onclick="javascript:getDatasets(url,'datasetrows','datasetrows_template', {{n}});">
            &gt;</a></li>
        {{/if}}
        {{/paginate}}

    </ul>
</script>


<script type="text/x-handlebars-template" id="tags_template">
    <ul class="list-inline tags-v2 margin-bottom-50 color-white">
        {{#each result}}
        <li><a href="datasets.html?q={{this}}">{{this}}</a></li>
        {{/each}}
    </ul>

</script>

<!-- JS Global Compulsory -->
<script type="text/javascript" src="assets/plugins/jquery/jquery.min.js"></script>
<script type="text/javascript" src="assets/plugins/jquery/jquery-migrate.min.js"></script>
<script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="assets/js/plugins/bootstrap-select.min.js"></script>

<!-- JS Translation -->
<script type="text/javascript" src="assets/js/plugins/i18next.min.js"></script>
<script type="text/javascript" src="assets/js/translations/translation.js"></script>
<script type="text/javascript" src="assets/js/plugins/jquery-i18next.min.js"></script>

<!-- JS Implementing Plugins -->
<script type="text/javascript" src="assets/plugins/back-to-top.js"></script>
<script type="text/javascript" src="assets/plugins/smoothScroll.js"></script>
<script type="text/javascript" src="assets/plugins/backstretch/jquery.backstretch.min.js"></script>

<script type="text/javascript" src="assets/js/plugins/moment.js"></script>

<!-- JS Customization -->
<script type="text/javascript" src="assets/js/custom.js"></script>
<script type="text/javascript" src="assets/js/common_header.js"></script>
<script type="text/javascript" src="assets/js/handlebars-paginate.js"></script>
<script type="text/javascript" src="assets/js/sign_in_up.js"></script>

<script type="text/javascript" src="assets/js/app.js"></script>
<script type="text/javascript" src="assets/js/footer.js"></script>

<!-- JS Translation -->
<script type="text/javascript" src="assets/js/translations/translation.js"></script>
<script type="text/javascript" src="assets/js/plugins/i18next.min.js"></script>
<script type="text/javascript" src="assets/js/plugins/jquery-i18next.min.js"></script>

<!-- JS Page Level -->
<script src="assets/plugins/backstretch/jquery.backstretch.min.js"></script>
<script type="text/javascript" src="assets/js/plugins/handlebars.min.js"></script>
<script type="text/javascript" src="assets/js/plugins/typeahead.bundle.js"></script>

<script type="text/javascript">
    var url;
    jQuery(document).ready(function () {
        App.init();
        //App.initCounter();
        //	App.initParallaxBg();
        //OwlCarousel.initOwlCarousel();
        Handlebars.registerHelper('paginate', paginate);

        url = datasetsURL;

        var query = getParameterByName('q');

        /*
            filtrare il parametro q per capire se trattasi di myDatasets o no
            in caso  la ricerca diventa url+="?q="+ sessionStorage.username
         */

        if (query){
            url+="?q="+query;
        }

        getDatasets(url,"datasetrows", "datasetrows_template", 1, 5);

        getSimple(tagsURL, "tags_container","tags_template");

        $("#searchButton").click(function () {
            var query = $("#searchInput").val();
            var page = "datasets.html";
            if (query)
                page += "?q=" + query;
            window.location = page;
        })
    });
</script>
<!--[if lt IE 9]>
<script src="assets/plugins/respond.js"></script>
<script src="assets/plugins/html5shiv.js"></script>
<script src="assets/plugins/placeholder-IE-fixes.js"></script>
<![endif]-->
</body>
</html>
